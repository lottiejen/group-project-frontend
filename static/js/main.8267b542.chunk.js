(this.webpackJsonpboardgames=this.webpackJsonpboardgames||[]).push([[0],{45:function(e,t,n){},50:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(20),s=n.n(r),i=(n(45),n(4)),l=n(13),o=n(14),u=n(16),j=n(15),m=(n(50),n(12)),d=n(0),b=function(){return Object(d.jsxs)("header",{className:"header mb-4",children:[Object(d.jsxs)("div",{className:"header__container",children:[Object(d.jsx)("small",{className:"header__subtitle",children:" What do you want to play tonight?"}),Object(d.jsx)("h1",{className:"header__title header__style",children:"Haven't got a Cluedo"})]}),Object(d.jsx)("nav",{className:"nav",children:Object(d.jsxs)("ul",{className:"nav__list",children:[Object(d.jsx)("li",{children:Object(d.jsx)(m.a,{to:"",className:"nav__item",children:"Game Recommendation"})}),Object(d.jsx)("li",{children:Object(d.jsx)(m.a,{to:"/all",className:"nav__item",children:"See All Games"})})]})})]})},h=n(11),O=function(e){var t=e.buttonText,n=(e.handleClick,e.buttonClass);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("button",{className:"button button--".concat(n),children:t})})},f=n.p+"static/media/boardgame.87fd055a.png",p=n.p+"static/media/boardgame2.ec18c5f4.png",x=function(e){var t=e.fetchRecommendations,n=(e.recommendations,Object(a.useState)("2")),c=Object(h.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),l=Object(h.a)(i,2),o=l[0],u=l[1],j=Object(a.useState)("1"),m=Object(h.a)(j,2),b=m[0],x=m[1];return Object(d.jsxs)("section",{className:"d-flex flex-column align-items-center",children:[Object(d.jsx)("img",{className:"icon__2",src:f,alt:""}),Object(d.jsx)("img",{className:"icon__3",src:p,alt:""}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({players:r,time:o,difficulty:b})},className:"form-control d-flex flex-column  mb-4 searchform glass",children:[Object(d.jsx)("h3",{className:"searchform__title header__style",children:"Game Finder"}),Object(d.jsxs)("div",{className:"searchform__inputs",children:[Object(d.jsx)("label",{htmlFor:"players",children:"Number of Players"}),Object(d.jsxs)("select",{value:r,onChange:function(e){s(e.currentTarget.value)},className:"mb-4 py-1 searchform__input",id:"players",children:[Object(d.jsx)("option",{value:"2",children:"Two"}),Object(d.jsx)("option",{value:"3",children:"Three"}),Object(d.jsx)("option",{value:"4",children:"Four"}),Object(d.jsx)("option",{value:"5",children:"Five"}),Object(d.jsx)("option",{value:"6",children:"Six"}),Object(d.jsx)("option",{value:"7",children:"Seven"}),Object(d.jsx)("option",{value:"8",children:"Eight"})]}),Object(d.jsx)("label",{htmlFor:"time",children:"Time (minutes)"}),Object(d.jsx)("input",{required:!0,value:o,onChange:function(e){u(e.currentTarget.value)},className:"mb-4 searchform__input",type:"number"}),Object(d.jsx)("label",{htmlFor:"difficulty",children:"Difficulty"}),Object(d.jsxs)("select",{value:b,onChange:function(e){x(e.currentTarget.value)},className:"mb-4 py-1 searchform__input",id:"difficulty",children:[Object(d.jsx)("option",{value:"1",children:"Easy"}),Object(d.jsx)("option",{value:"2",children:"Medium"}),Object(d.jsx)("option",{value:"3",children:"Hard"})]})]}),Object(d.jsx)("div",{className:"searchform__buttons",children:Object(d.jsx)(O,{buttonText:"Find Me A Game",className:"searchform__button"})})]})]})},g=n(38),v=n.n(g).a.create({baseURL:"https://haventgotacluedo.developme.space/api/",headers:{Accept:"application/json"}}),_=function(e){return{type:"SET_GAMES",data:e}},y=function(e){return{type:"ERROR",payload:e}},N=n(6),w=Object(N.a)(),D=function(e){return function(t){v.get("/games/".concat(e,"/reviews")).then((function(e){var n=e.data;console.log(n.data),t(function(e){return{type:"SET_REVIEWS",data:e}}(n.data))})).catch((function(e){return console.log(e)}))}},S=Object(i.b)((function(e){return{recommendations:e.recommendations}}),(function(e){return{fetchRecommendations:function(t){return e(function(e){return function(t){v.get("/games/recommendations",{params:{difficulty:+e.difficulty,time:+e.time,players:+e.players}}).then((function(e){var n=e.data;if(0!==n.data.length){t(function(e){return{type:"SET_RECOMMENDATIONS",data:e}}(n.data));var a=n.data[0].id;w.push("games/".concat(a))}else t(y("Your Search Returned No Results")),setTimeout((function(){t(y(""))}),6e3)}))}}(t))}}}))(x),E=n(22),T=function(e){for(var t=e.stars,n={height:25,width:25,padding:5},a=[],c=0;c<parseInt(t);c+=1)a.push(c);return Object(d.jsx)(d.Fragment,{children:a.map((function(e,t){return Object(d.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Star_icon_stylized.svg/1077px-Star_icon_stylized.svg.png",alt:"star icon",style:n},t)}))})},R=n(39),C=n.n(R),G=function(e){var t=e.gameID,n=e.handleNewReview,c=Object(a.useState)(""),r=Object(h.a)(c,2),s=r[0],i=r[1],l=Object(a.useState)(""),o=Object(h.a)(l,2),u=o[0],j=o[1],m=Object(a.useState)(0),b=Object(h.a)(m,2),f=b[0],p=b[1],x=Object(a.useState)(!1),g=Object(h.a)(x,2),v=g[0],_=g[1],y=Object(a.useState)(!1),N=Object(h.a)(y,2),w=N[0],D=N[1],S={border:"2px solid red"};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h6",{className:"mt-4",children:" Tell us what you thought!"}),w?Object(d.jsx)("p",{children:" Thanks for your review! "}):Object(d.jsxs)("form",{style:{width:"100%"},className:"mt-4",onSubmit:function(e){if(e.preventDefault(),s.length>1&&u.length>1&&f>0){_(!1);var a={gameID:t,name:s,review:u,rating:f};D(!0),n(a)}else _(!0)},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"name",children:"Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"name","aria-describedby":"reviewer name",placeholder:"Name",value:s,onChange:function(e){i(e.currentTarget.value)},style:v?S:null})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"review",children:"Review"}),Object(d.jsx)("textarea",{className:"form-control",id:"review",rows:"3",value:u,onChange:function(e){j(e.currentTarget.value)},style:v?S:null})]}),Object(d.jsx)("div",{style:v?S:null,children:Object(d.jsx)(C.a,{isHalf:!1,size:25,value:f,onChange:function(e){p(e)}})}),v?Object(d.jsx)("p",{children:"Please fill in all fields!"}):null,Object(d.jsx)(O,{buttonText:"Submit"})]})]})},I=Object(i.b)(null,(function(e){return{handleNewReview:function(t){return e(function(e){return function(t){v.post("/games/".concat(e.gameID,"/reviews"),{name:e.name,review:e.review,rating:e.rating}).then((function(e){var t=e.data;console.log(t.data)})),console.log(e)}}(t))}}}))(G),k=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchReviews(this.props.id)}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&this.props.fetchReviews(this.props.id)}},{key:"render",value:function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{className:"header__style",children:" Reviews "}),this.props.reviews.map((function(e,t){return Object(d.jsx)("div",{className:" reviews__card card",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)(T,{className:"card-title",stars:e.rating}),Object(d.jsxs)("h6",{className:"card-subtitle",children:[" ",e.name," "]}),Object(d.jsxs)("p",{className:"card-text",children:[" ",e.review]})]})},t)})),Object(d.jsx)("div",{className:"reviews__newreview",children:Object(d.jsx)(I,{gameID:this.props.id})})]})}}]),n}(a.Component),M=Object(i.b)((function(e){return{reviews:e.reviews}}),(function(e){return{fetchReviews:function(t){return e(D(t))}}}))(k),F=function(e){var t=e.difficulty,n=e.time,a=e.min_players,c=e.max_players;return Object(d.jsxs)("ul",{className:"info-list",children:[Object(d.jsxs)("li",{className:"list-item",children:[Object(d.jsx)("b",{children:"Difficulty:"})," ",1===t?"Easy":2===t?"Medium":"Hard"]}),Object(d.jsxs)("li",{className:"list-item",children:[Object(d.jsx)("b",{children:"Time:"})," ",n," Minutes"]}),Object(d.jsxs)("li",{className:"list-item",children:[Object(d.jsx)("b",{children:"Min Players:"})," ",a]}),Object(d.jsxs)("li",{className:"list-item",children:[Object(d.jsx)("b",{children:"Max Players:"})," ",c]})]})},A=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleClickNext=a.handleClickNext.bind(Object(E.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.incrementDisplayGame(),this.props.handleLoad()}},{key:"componentDidUpdate",value:function(e){e.gameID!==this.props.gameID&&this.props.incrementDisplayGame()}},{key:"handleClickNext",value:function(e){e.preventDefault();var t=this.props.game.id;this.props.nextGame(t)}},{key:"render",value:function(){if(!this.props.game)return null;var e=this.props.game,t=e.id,n=e.name,a=e.difficulty,c=e.time,r=e.min_players,s=e.max_players,i=e.genres,l=e.description,o=e.img_url,u=this.props.nextGameID;return Object(d.jsxs)("section",{className:"d-flex flex-column align-items-center",children:[Object(d.jsxs)("article",{className:"container-sm card game-card glass",children:[Object(d.jsx)("figure",{className:"gamecard__figure",children:Object(d.jsx)("img",{className:"gamecard-img",src:o,alt:""})}),Object(d.jsx)("h2",{className:"gamecard__title header__style ",children:n}),Object(d.jsx)("p",{children:l}),Object(d.jsx)("h4",{className:" gamecard__subtitle header__style",children:"Game Information"}),Object(d.jsx)(F,{difficulty:a,time:c,min_players:r,max_players:s}),Object(d.jsx)("h4",{className:"mt-4 gamecard__subtitle header__style",children:"Genres"}),Object(d.jsx)("ul",{className:"mb-4",children:i.map((function(e){return Object(d.jsx)("li",{className:"badge gamecard__genre",children:e},e)}))}),void 0===u?null:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"gamecard__text",children:"Don't fancy playing this game? "}),Object(d.jsx)("p",{className:"gamecard__text",children:"Click below for the next recommendation!"}),Object(d.jsx)("div",{className:"button",children:Object(d.jsx)(m.a,{to:"/games/".concat(u),style:{textDecoration:"none"},children:Object(d.jsx)("p",{className:"gamecard__nextlink header__style",children:"Next Game"})})})]})]}),Object(d.jsx)("div",{className:"mt-4 reviews__container",children:Object(d.jsx)(M,{id:t})})]})}}]),n}(a.Component),P=Object(i.b)((function(e,t){var n=t.gameID;return{game:e.games[n],nextGameID:e.recommendations[e.nextGame]}}),(function(e,t){var n=t.gameID;return{incrementDisplayGame:function(){return e({type:"INCREMENT_GAME"})},handleLoad:function(){return e(function(e){return function(t){v.get("/games/".concat(e)).then((function(e){var n=e.data;t(_([n.data]))}))}}(n))},fetchReviews:function(t){return e(D(t))}}}))(A),L=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"render",value:function(){var e=this.props.gamesData;return Object(d.jsx)("section",{className:"row card-container",children:Object.values(e).map((function(e,t){return Object(d.jsxs)("article",{className:"gamelisting col-md-6",children:[Object(d.jsx)(m.a,{to:"games/".concat(t+1),style:{textDecoration:"none"},children:Object(d.jsxs)("h2",{className:" header__style card-title",children:[" ",e.name]})}),Object(d.jsx)(F,{difficulty:e.difficulty,time:e.time,min_players:e.min_players,max_players:e.max_players}),Object(d.jsx)("ul",{className:"mt-4",children:e.genres.map((function(e,t){return Object(d.jsx)("li",{className:"badge gamecard__genre",children:e},t)}))})]},t)}))})}}]),n}(a.Component),H=Object(i.b)((function(e){return{gamesData:e.games}}),(function(e){return{fetchData:function(){return e((function(e){v.get("/games").then((function(t){var n=t.data;e(_(n.data))}))}))}}}))(L),U=n(3),z=function(e){var t=e.error;return t?Object(d.jsx)("p",{className:"search-error",children:t}):null},V=Object(i.b)((function(e){return{error:e.error}}))(z),W=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(d.jsxs)(U.b,{history:w,children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)(U.c,{children:[Object(d.jsx)(U.a,{exact:!0,path:"/",children:Object(d.jsx)(S,{})}),Object(d.jsx)(U.a,{path:"/games/:id",render:function(e){var t=e.match;return Object(d.jsx)(P,{gameID:t.params.id})}}),Object(d.jsx)(U.a,{exact:!0,path:"/all",children:Object(d.jsx)(H,{})})]}),Object(d.jsx)(V,{})]})]})}}]),n}(a.Component),B=Object(i.b)((function(e){return{gameID:e.nextGame}}),(function(e){return{}}))(W),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},X={games:{},recommendations:[],nextGame:null,reviews:[],error:""},q=n(10),Y=function(e,t){var n=t.data.reduce((function(e,t){return e[t.id]=t,e}),{});return Object(q.a)(Object(q.a)({},e),{},{games:Object(q.a)(Object(q.a)({},e.games),n)})},K=function(e,t){switch(t.type){case"SET_GAMES":return Y(e,t);case"SET_RECOMMENDATIONS":return function(e,t){return Object(q.a)(Object(q.a)({},e),{},{recommendations:t.data.map((function(e){return e.id})),nextGame:0})}(Y(e,t),t);case"INCREMENT_GAME":return function(e){return Object(q.a)(Object(q.a)({},e),{},{nextGame:e.nextGame+1})}(e);case"SET_REVIEWS":return function(e,t){return Object(q.a)(Object(q.a)({},e),{},{reviews:t.data})}(e,t);case"ERROR":return function(e,t){return Object(q.a)(Object(q.a)({},e),{},{error:t.payload})}(e,t);default:return e}},Q=n(18),Z=n(40),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Q.c,ee=Object(Q.d)(K,X,$(Object(Q.a)(Z.a)));s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(i.a,{store:ee,children:Object(d.jsx)(B,{})})}),document.getElementById("root")),J()}},[[73,1,2]]]);
//# sourceMappingURL=main.8267b542.chunk.js.map