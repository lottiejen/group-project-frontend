(this.webpackJsonpboardgames=this.webpackJsonpboardgames||[]).push([[0],{45:function(e,t,a){},50:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(20),s=a.n(r),i=(a(45),a(4)),l=a(13),o=a(14),d=a(16),j=a(15),m=(a(50),a(12)),u=a.p+"static/media/user.29bcb73b.svg",b=a(0),h=function(){return Object(b.jsxs)("header",{className:"header mb-2",children:[Object(b.jsxs)("div",{className:"header__user-login",children:[Object(b.jsx)("img",{className:"header__user",src:u,alt:"user icon"}),Object(b.jsx)("span",{className:"header__login",children:" Log In "})]}),Object(b.jsxs)("div",{className:"header__container",children:[Object(b.jsx)("small",{className:"header__subtitle",children:" What do you want to play tonight?"}),Object(b.jsx)("h1",{className:"header__title header__style",children:"Haven't got a Cluedo"})]}),Object(b.jsx)("nav",{className:"nav",children:Object(b.jsxs)("ul",{className:"nav__list",children:[Object(b.jsx)("li",{children:Object(b.jsx)(m.b,{to:"",className:"nav__item",children:"Game Recommendation"})}),Object(b.jsx)("li",{children:Object(b.jsx)(m.b,{to:"/all",className:"nav__item",children:"See All Games"})})]})})]})},O=a(11),p=function(e){var t=e.buttonText,a=(e.handleClick,e.buttonClass);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("button",{className:"button button--".concat(a),children:t})})},x=a.p+"static/media/boardgame.87fd055a.png",f=a.p+"static/media/boardgame2.ec18c5f4.png",g=function(e){var t=e.fetchRecommendations,a=(e.recommendations,Object(n.useState)("2")),c=Object(O.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(""),l=Object(O.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)("1"),m=Object(O.a)(j,2),u=m[0],h=m[1];return Object(b.jsxs)("section",{className:"d-flex flex-column align-items-center",children:[Object(b.jsx)("img",{className:"icon__2",src:x,alt:""}),Object(b.jsx)("img",{className:"icon__3",src:f,alt:""}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({players:r,time:o,difficulty:u})},className:"form-control d-flex flex-column  mb-4 searchform glass",children:[Object(b.jsx)("h3",{className:"searchform__title header__style",children:"Game Finder"}),Object(b.jsxs)("div",{className:"searchform__inputs",children:[Object(b.jsx)("label",{htmlFor:"players",children:"Number of Players"}),Object(b.jsxs)("select",{value:r,onChange:function(e){s(e.currentTarget.value)},className:"mb-4 py-1 searchform__input",id:"players",children:[Object(b.jsx)("option",{value:"2",children:"Two"}),Object(b.jsx)("option",{value:"3",children:"Three"}),Object(b.jsx)("option",{value:"4",children:"Four"}),Object(b.jsx)("option",{value:"5",children:"Five"}),Object(b.jsx)("option",{value:"6",children:"Six"}),Object(b.jsx)("option",{value:"7",children:"Seven"}),Object(b.jsx)("option",{value:"8",children:"Eight"})]}),Object(b.jsx)("label",{htmlFor:"time",children:"Time (minutes)"}),Object(b.jsx)("input",{required:!0,value:o,onChange:function(e){d(e.currentTarget.value)},className:"mb-4 searchform__input",type:"number"}),Object(b.jsx)("label",{htmlFor:"difficulty",children:"Difficulty"}),Object(b.jsxs)("select",{value:u,onChange:function(e){h(e.currentTarget.value)},className:"mb-4 py-1 searchform__input",id:"difficulty",children:[Object(b.jsx)("option",{value:"1",children:"Easy"}),Object(b.jsx)("option",{value:"2",children:"Medium"}),Object(b.jsx)("option",{value:"3",children:"Hard"})]})]}),Object(b.jsx)("div",{className:"searchform__buttons",children:Object(b.jsx)(p,{buttonText:"Find Me A Game",className:"searchform__button"})})]})]})},_=a(38),v=a.n(_).a.create({baseURL:"https://haventgotacluedo.developme.space/api/",headers:{Accept:"application/json"}}),N=function(e){return{type:"SET_GAMES",data:e}},y=function(e){return{type:"ERROR",payload:e}},w=a(6),D=Object(w.b)(),S=function(e){return function(t){v.get("/games/".concat(e,"/reviews")).then((function(e){var a=e.data;console.log(a.data),t(function(e){return{type:"SET_REVIEWS",data:e}}(a.data))})).catch((function(e){return console.log(e)}))}},E=Object(i.b)((function(e){return{recommendations:e.recommendations}}),(function(e){return{fetchRecommendations:function(t){return e(function(e){return function(t){v.get("/games/recommendations",{params:{difficulty:+e.difficulty,time:+e.time,players:+e.players}}).then((function(e){var a=e.data;if(0!==a.data.length){t(function(e){return{type:"SET_RECOMMENDATIONS",data:e}}(a.data));var n=a.data[0].id;D.push("/games/".concat(n))}else t(y("Your Search Returned No Results")),setTimeout((function(){t(y(""))}),6e3)}))}}(t))}}}))(g),T=a(22),C=function(e){for(var t=e.stars,a={height:25,width:25,padding:5},n=[],c=0;c<parseInt(t);c+=1)n.push(c);return Object(b.jsx)(b.Fragment,{children:n.map((function(e,t){return Object(b.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Star_icon_stylized.svg/1077px-Star_icon_stylized.svg.png",alt:"star icon",style:a},t)}))})},R=a(39),I=a.n(R),G=function(e){var t=e.gameID,a=e.handleNewReview,c=Object(n.useState)(""),r=Object(O.a)(c,2),s=r[0],i=r[1],l=Object(n.useState)(""),o=Object(O.a)(l,2),d=o[0],j=o[1],m=Object(n.useState)(0),u=Object(O.a)(m,2),h=u[0],x=u[1],f=Object(n.useState)(!1),g=Object(O.a)(f,2),_=g[0],v=g[1],N=Object(n.useState)(!1),y=Object(O.a)(N,2),w=y[0],D=y[1],S={border:"2px solid red"};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h6",{className:"mt-4",children:" Tell us what you thought!"}),w?Object(b.jsx)("p",{children:" Thanks for your review! "}):Object(b.jsxs)("form",{style:{width:"100%"},className:"mt-4",onSubmit:function(e){if(e.preventDefault(),s.length>1&&d.length>1&&h>0){v(!1);var n={gameID:t,name:s,review:d,rating:h};D(!0),a(n)}else v(!0)},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Name"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"name","aria-describedby":"reviewer name",placeholder:"Name",value:s,onChange:function(e){i(e.currentTarget.value)},style:_?S:null})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"review",children:"Review"}),Object(b.jsx)("textarea",{className:"form-control",id:"review",rows:"3",value:d,onChange:function(e){j(e.currentTarget.value)},style:_?S:null})]}),Object(b.jsx)("div",{style:_?S:null,children:Object(b.jsx)(I.a,{isHalf:!1,size:25,value:h,onChange:function(e){x(e)}})}),_?Object(b.jsx)("p",{children:"Please fill in all fields!"}):null,Object(b.jsx)(p,{buttonText:"Submit"})]})]})},k=Object(i.b)(null,(function(e){return{handleNewReview:function(t){return e(function(e){return function(t){v.post("/games/".concat(e.gameID,"/reviews"),{name:e.name,review:e.review,rating:e.rating}).then((function(e){var t=e.data;console.log(t.data)})),console.log(e)}}(t))}}}))(G),M=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchReviews(this.props.id)}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&this.props.fetchReviews(this.props.id)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{className:"header__style",children:" Reviews "}),this.props.reviews.map((function(e,t){return Object(b.jsx)("div",{className:" reviews__card card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)(C,{className:"card-title",stars:e.rating}),Object(b.jsxs)("h6",{className:"card-subtitle",children:[" ",e.name," "]}),Object(b.jsxs)("p",{className:"card-text",children:[" ",e.review]})]})},t)})),Object(b.jsx)("div",{className:"reviews__newreview",children:Object(b.jsx)(k,{gameID:this.props.id})})]})}}]),a}(n.Component),F=Object(i.b)((function(e){return{reviews:e.reviews}}),(function(e){return{fetchReviews:function(t){return e(S(t))}}}))(M),A=function(e){var t=e.difficulty,a=e.time,n=e.min_players,c=e.max_players;return Object(b.jsxs)("ul",{className:"info-list",children:[Object(b.jsxs)("li",{className:"list-item",children:[Object(b.jsx)("b",{children:"Difficulty:"})," ",1===t?"Easy":2===t?"Medium":"Hard"]}),Object(b.jsxs)("li",{className:"list-item",children:[Object(b.jsx)("b",{children:"Time:"})," ",a," Minutes"]}),Object(b.jsxs)("li",{className:"list-item",children:[Object(b.jsx)("b",{children:"Min Players:"})," ",n]}),Object(b.jsxs)("li",{className:"list-item",children:[Object(b.jsx)("b",{children:"Max Players:"})," ",c]})]})},L=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClickNext=n.handleClickNext.bind(Object(T.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.incrementDisplayGame(),this.props.handleLoad()}},{key:"componentDidUpdate",value:function(e){e.gameID!==this.props.gameID&&this.props.incrementDisplayGame()}},{key:"handleClickNext",value:function(e){e.preventDefault();var t=this.props.game.id;this.props.nextGame(t)}},{key:"render",value:function(){if(!this.props.game)return null;var e=this.props.game,t=e.id,a=e.name,n=e.difficulty,c=e.time,r=e.min_players,s=e.max_players,i=e.genres,l=e.description,o=e.img_url,d=this.props.nextGameID;return Object(b.jsxs)("section",{className:"d-flex flex-column align-items-center",children:[Object(b.jsxs)("article",{className:"container-sm card game-card glass",children:[Object(b.jsx)("figure",{className:"gamecard__figure",children:Object(b.jsx)("img",{className:"gamecard-img",src:o,alt:""})}),Object(b.jsxs)("div",{className:"searchbar__genres",children:[Object(b.jsx)("span",{className:"badge gamecard__genre",children:"Want to play!"}),Object(b.jsx)("span",{className:"badge gamecard__genre",children:"Already Own"}),Object(b.jsx)("span",{className:"badge gamecard__genre",children:"Not Interested"})]}),Object(b.jsx)("h2",{className:"gamecard__title header__style ",children:a}),Object(b.jsx)("p",{children:l}),Object(b.jsx)("h4",{className:" gamecard__subtitle header__style",children:"Game Information"}),Object(b.jsx)(A,{difficulty:n,time:c,min_players:r,max_players:s}),Object(b.jsx)("h4",{className:"mt-4 gamecard__subtitle header__style",children:"Genres"}),Object(b.jsx)("ul",{className:"mb-4",children:i.map((function(e){return Object(b.jsx)("li",{className:"badge gamecard__genre",children:e},e)}))}),void 0===d?null:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{className:"gamecard__text",children:"Don't fancy playing this game? "}),Object(b.jsx)("p",{className:"gamecard__text",children:"Click below for the next recommendation!"}),Object(b.jsx)("div",{className:"button",children:Object(b.jsx)(m.b,{to:"/games/".concat(d),style:{textDecoration:"none"},children:Object(b.jsx)("p",{className:"gamecard__nextlink header__style",children:"Next Game"})})})]})]}),Object(b.jsx)("div",{className:"mt-4 reviews__container",children:Object(b.jsx)(F,{id:t})})]})}}]),a}(n.Component),P=Object(i.b)((function(e,t){var a=t.gameID;return{game:e.games[a],nextGameID:e.recommendations[e.nextGame]}}),(function(e,t){var a=t.gameID;return{incrementDisplayGame:function(){return e({type:"INCREMENT_GAME"})},handleLoad:function(){return e(function(e){return function(t){v.get("/games/".concat(e)).then((function(e){var a=e.data;t(N([a.data]))}))}}(a))},fetchReviews:function(t){return e(S(t))}}}))(L),H=a.p+"static/media/magnifier.752f9c24.svg",U=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"render",value:function(){var e=this.props.gamesData;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"input-group searchbar",children:[Object(b.jsx)("img",{src:H,alt:"search icon",className:"searchbar__icon"}),Object(b.jsx)("input",{type:"search",className:"  rounded form-control searchbar__input",placeholder:"Search","aria-label":"Search","aria-describedby":"search-addon"})]}),Object(b.jsxs)("div",{className:"searchbar__genres",children:[Object(b.jsx)("span",{className:"badge gamecard__genre",children:"Action"}),Object(b.jsx)("span",{className:"badge gamecard__genre",children:"Card"}),Object(b.jsx)("span",{className:"badge gamecard__genre",children:"Cooperative"}),Object(b.jsx)("span",{className:"badge gamecard__genre",children:"Strategy"}),Object(b.jsx)("span",{className:"badge gamecard__genre",children:"Trading"})]}),Object(b.jsx)("section",{className:"row mt-4 card-container",children:Object.values(e).map((function(e,t){return Object(b.jsxs)("article",{className:"gamelisting col-md-6",children:[Object(b.jsx)(m.b,{to:"games/".concat(t+1),style:{textDecoration:"none"},children:Object(b.jsxs)("h2",{className:" header__style card-title",children:[" ",e.name]})}),Object(b.jsx)(A,{difficulty:e.difficulty,time:e.time,min_players:e.min_players,max_players:e.max_players}),Object(b.jsx)("ul",{className:"mt-4",children:e.genres.map((function(e,t){return Object(b.jsx)("li",{className:"badge gamecard__genre",children:e},t)}))})]},t)}))})]})}}]),a}(n.Component),W=Object(i.b)((function(e){return{gamesData:e.games}}),(function(e){return{fetchData:function(){return e((function(e){v.get("/games").then((function(t){var a=t.data;e(N(a.data))}))}))}}}))(U),z=a(3),V=function(e){var t=e.error;return t?Object(b.jsx)("p",{className:"search-error",children:t}):null},B=Object(i.b)((function(e){return{error:e.error}}))(V),J=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)(m.a,{history:D,children:[Object(b.jsx)(h,{}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)(z.c,{children:[Object(b.jsx)(z.a,{exact:!0,path:"/",children:Object(b.jsx)(E,{})}),Object(b.jsx)(z.a,{path:"/games/:id",render:function(e){var t=e.match;return Object(b.jsx)(P,{gameID:t.params.id})}}),Object(b.jsx)(z.a,{exact:!0,path:"/all",children:Object(b.jsx)(W,{})})]}),Object(b.jsx)(B,{})]})]})}}]),a}(n.Component),X=Object(i.b)((function(e){return{gameID:e.nextGame}}),(function(e){return{}}))(J),q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,74)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},Y={games:{},recommendations:[],nextGame:null,reviews:[],error:""},K=a(10),Q=function(e,t){var a=t.data.reduce((function(e,t){return e[t.id]=t,e}),{});return Object(K.a)(Object(K.a)({},e),{},{games:Object(K.a)(Object(K.a)({},e.games),a)})},Z=function(e,t){switch(t.type){case"SET_GAMES":return Q(e,t);case"SET_RECOMMENDATIONS":return function(e,t){return Object(K.a)(Object(K.a)({},e),{},{recommendations:t.data.map((function(e){return e.id})),nextGame:0})}(Q(e,t),t);case"INCREMENT_GAME":return function(e){return Object(K.a)(Object(K.a)({},e),{},{nextGame:e.nextGame+1})}(e);case"SET_REVIEWS":return function(e,t){return Object(K.a)(Object(K.a)({},e),{},{reviews:t.data})}(e,t);case"ERROR":return function(e,t){return Object(K.a)(Object(K.a)({},e),{},{error:t.payload})}(e,t);default:return e}},$=a(18),ee=a(40),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$.c,ae=Object($.d)(Z,Y,te(Object($.a)(ee.a)));s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(i.a,{store:ae,children:Object(b.jsx)(X,{})})}),document.getElementById("root")),q()}},[[73,1,2]]]);
//# sourceMappingURL=main.ca4f5c07.chunk.js.map